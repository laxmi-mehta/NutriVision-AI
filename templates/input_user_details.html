<!-- input_user_details.html -->
{% extends 'base.html' %}

{% block content %}
<div class="min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-lg">
        <h2 class="text-2xl font-semibold text-center text-gray-700 mb-6">User Details</h2>
        <form method="POST" onsubmit="return validateForm()">
            {% csrf_token %}
            <div class="space-y-6">
                <!-- First Name -->
                <div>
                    <label for="first_name" class="block text-lg font-medium text-gray-700">First Name:</label>
                    <input type="text" id="first_name" name="first_name" required
                        class="mt-2 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>

                <!-- Age -->
                <div>
                    <label for="age" class="block text-lg font-medium text-gray-700">Age:</label>
                    <input type="number" id="age" name="age" required
                        class="mt-2 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>

                <!-- Gender -->
                <div>
                    <label for="gender" class="block text-lg font-medium text-gray-700">Gender:</label>
                    <select id="gender" name="gender" required
                        class="mt-2 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <!-- Weight -->
                <div>
                    <label for="weight" class="block text-lg font-medium text-gray-700">Weight (kg):</label>
                    <input type="number" id="weight" name="weight" step="0.1" required
                        class="mt-2 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>

                <!-- Height -->
                <div>
                    <label for="height" class="block text-lg font-medium text-gray-700">Height (cm):</label>
                    <input type="number" id="height" name="height" required
                        class="mt-2 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>

                <!-- Activity Level -->
                <div>
                    <label for="activity_level" class="block text-lg font-medium text-gray-700">Activity Level:</label>
                    <select id="activity_level" name="activity_level" required
                        class="mt-2 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                    </select>
                </div>

                <!-- Allergy Level -->
                <div>
                    <label for="allergy_level" class="block text-lg font-medium text-gray-700">Allergy Level:</label>
                    <select id="allergy_level" name="allergy_level" required
                        class="mt-2 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="none">None</option>
                        <option value="mild">Mild</option>
                        <option value="severe">Severe</option>
                    </select>
                </div>

                <!-- Submit Button -->
                <div class="mt-6">
                    <button type="submit"
                        class="w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500">
                        Submit
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    function validateForm() {
        const age = document.getElementById("age").value;
        const weight = document.getElementById("weight").value;
        const height = document.getElementById("height").value;

        // Age validation
        if (age < 1 || age > 99) {
            alert("Age must be between 1 and 99.");
            return false;
        }

        // Weight validation
        if (weight <= 0) {
            alert("Weight must be a positive number.");
            return false;
        }

        // Height validation
        if (height <= 0) {
            alert("Height must be a positive number.");
            return false;
        }

        return true;
    }
</script>
{% endblock %}